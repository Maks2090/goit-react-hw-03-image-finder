{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","Api/fetchImeges.js","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","reportWebVitals.js","index.js"],"names":["Searchbar","state","searchQuery","handleSearchQueryChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmitForm","image","page","hits","className","onSubmit","this","type","onChange","autoFocus","placeholder","Component","ImageGallery","children","ImageGalleryItem","writeSrcState","target","dataset","src","onModal","imageGallery","length","map","webformatURL","alt","tags","largeImageURL","onClick","id","fetchImeges","url","axios","get","then","images","Button","currentPage","totalHits","Modal","onCloseModal","code","window","addEventListener","removeEventListener","modalSrc","App","showModal","Loader","onSearch","showLoader","data","Notify","info","prevState","scrollToBottom","catch","error","finally","status","writeToState","handelSearchbar","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","color","height","width","timeout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8be9b83e.chunk.js","sourcesContent":["import { Component } from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nexport default class Searchbar extends Component {\r\n    state = {\r\n        searchQuery: \"\",\r\n    }\r\n\r\n    handleSearchQueryChange = e => {\r\n\r\n        this.setState({ searchQuery: e.currentTarget.value.toLowerCase() })\r\n    }\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        if (this.state.searchQuery.trim() === '') {\r\n            return;\r\n        }\r\n        \r\n        this.props.onSubmitForm({ image: this.state.searchQuery, page: 1, hits: 0 })\r\n        this.setState({ searchQuery: '' });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <header className=\"Searchbar\">\r\n\r\n                <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n\r\n                    <button type=\"submit\" className=\"SearchForm-button\">\r\n                        <span className=\"SearchForm-button-label\">Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        value={this.state.searchQuery}\r\n                        onChange={this.handleSearchQueryChange}\r\n                        className=\"SearchForm-input\"\r\n                        type=\"text\"\r\n                        \r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                    />\r\n                </form>\r\n\r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n    onSubmitForm: PropTypes.func,\r\n  };","import PropTypes from 'prop-types';\r\n\r\nexport default function ImageGallery ({ children }) {\r\n\r\n      return (\r\n\r\n            <ul className=\"ImageGallery\">\r\n                {children}\r\n            </ul>\r\n\r\n     )\r\n\r\n    \r\n}\r\n\r\n\r\nImageGallery.propTypes = {\r\n    children: PropTypes.object,\r\n  };\r\n","import { Component } from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n\r\n    writeSrcState = (e) => {\r\n        this.props.writeSrcState(e.target.dataset.src);\r\n        this.props.onModal(true);\r\n    };\r\n    render() {\r\n        const { imageGallery } = this.props;\r\n        return (\r\n            imageGallery.length !== 0 &&\r\n            imageGallery.map((image) => (\r\n                <li key={image.id}>\r\n                    <img\r\n                        className=\"ImageGalleryItem-image\"\r\n                        src={image.webformatURL}\r\n                        alt={image.tags}\r\n                        data-src={image.largeImageURL}\r\n                        onClick={this.writeSrcState}\r\n                    />\r\n                </li>\r\n            ))\r\n        );\r\n    }\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n    imageGallery: PropTypes.arrayOf(PropTypes.object),\r\n    onModal: PropTypes.func,\r\n    writeSrcState: PropTypes.func,\r\n  };","import axios from \"axios\";\r\n\r\n\r\nconst BASE_URL = 'https://pixabay.com/api';\r\nconst API_KEY = '22631674-5d368c2f6a01c7affe232da9d';\r\n\r\nfunction fetchImeges(value, page) {\r\n\r\n    const url = `${BASE_URL}/?key=${API_KEY}&q=${value}&page=${page}&image_type=photo&orientation=horizontal&safesearch=true&per_page=12`\r\n\r\n    return axios.get(url).then((images) => {\r\n        return images\r\n    })\r\n\r\n\r\n\r\n}\r\n\r\nexport default fetchImeges","import { Component } from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nclass Button extends Component {\r\n    handleSubmit = (e) => {\r\n      e.preventDefault();\r\n      this.props.onSubmit({ page: this.props.currentPage + 1, hits: 0 });\r\n    };\r\n  \r\n    render() {\r\n      const { totalHits } = this.props;\r\n  \r\n      return (\r\n        totalHits !== 0 && (\r\n          <button\r\n            className=\"Button\"\r\n            type=\"submit\"\r\n            onClick={this.handleSubmit}\r\n          >\r\n            Load more\r\n          </button>\r\n        )\r\n      );\r\n    }\r\n  }\r\n\r\n  export default Button;\r\n\r\n  Button.propTypes = {\r\n    totalHits: PropTypes.number,\r\n    onSubmit: PropTypes.func,\r\n    currentPage: PropTypes.number,\r\n  };","import { Component } from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Modal extends Component {\r\n    componentDidMount() {\r\n      window.addEventListener(\"keydown\", this.onCloseModal);\r\n    }\r\n  \r\n    componentWillUnmount() {\r\n      window.removeEventListener(\"keydown\", this.onCloseModal);\r\n    }\r\n  \r\n    onCloseModal = (e) => {\r\n        if (e.target === e.currentTarget || e.code === \"Escape\") {\r\n          this.props.onModal(false);\r\n        }\r\n      };\r\n  \r\n    render() {\r\n      const { modalSrc } = this.props;\r\n  \r\n      return (\r\n        <div className=\"Overlay\" onClick={this.onCloseModal}>\r\n             <div className=\"Modal\">\r\n\r\n                 <img src={modalSrc} alt=\"modal img\" />\r\n\r\n             </div>\r\n\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  export default Modal;\r\n\r\n  Modal.propTypes = {\r\n    modalSrc: PropTypes.string,\r\n    showLoader: PropTypes.bool,\r\n    onModal: PropTypes.func,\r\n  };","import './styles.css';\nimport { Component } from 'react';\nimport { Notify } from \"notiflix\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery'\nimport ImageGalleryItem from './components/ImageGalleryItem/ImageGalleryItem'\nimport fetchImeges from './Api/fetchImeges';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\nimport Loader from \"react-loader-spinner\";\n\nexport default class App extends Component {\n  state = {\n    page: null,\n    searchQuery: \"\",\n    images: [],\n    hits: 0,\n    showModal: false,\n    modalSrc: \"\",\n    Loader: false\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      this.state.searchQuery !== prevState.searchQuery ||\n      this.state.page !== prevState.page\n    ) {\n      this.onSearch();\n    }\n  }\n\n  onSearch = () => {\n\n    const { value, page } = this.state;\n    this.showLoader(true);\n    fetchImeges(value, page)\n      .then((images) => {\n        if (images.data.hits.length === 0) {\n          Notify.info(\n            \"Sorry, there are no images matching your search query. Please try again.\"\n          );\n        }\n        this.setState((prevState) => {\n          return {\n            images: [...prevState.images, ...images.data.hits],\n            hits: prevState.hits + images.data.hits.length,\n          };\n\n\n        })\n        if (this.state.hits >= images.data.totalHits) {\n          this.setState({ hits: 0 });\n        }\n        this.scrollToBottom();\n      })\n      .catch((error) => {\n        Notify.info(\n          \"Sorry, there are no images matching your search query. Please try again.\"\n        );\n      })\n      .finally(() => this.showLoader(false));\n  }\n\n  showLoader = (status) => {\n    return this.setState({ Loader: status });\n  };\n\n  writeToState = (data) => {\n    data.image\n      ? this.setState({\n        images: [],\n        value: data.image,\n        page: data.page,\n        hits: data.hits,\n      })\n      : this.setState({ page: data.page, hits: data.hits });\n  };\n\n\n  handelSearchbar = searchQuery => {\n    this.setState({ searchQuery })\n  }\n\n  writeSrcState = (data) => {\n    this.setState({\n      modalSrc: data,\n    });\n  };\n\n  scrollToBottom = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  onModal = (data) => {\n    this.setState({\n      showModal: data,\n    });\n  };\n\n  render() {\n   \n\n    return (\n      <div>\n        <Searchbar\n          onSubmitForm={this.writeToState}\n        />\n\n\n        <ImageGallery>\n          <ImageGalleryItem\n            imageGallery={this.state.images}\n            writeSrcState={this.writeSrcState}\n            onModal={this.onModal}\n          />\n        </ImageGallery>\n\n        {this.state.Loader && (\n          <Loader className=\"Loader\" type=\"Puff\" color=\"#3f51b5\" height={80} width={80} timeout={500}/>\n        )}\n\n        <Button\n          totalHits={this.state.hits}\n          onSubmit={this.writeToState}\n          currentPage={this.state.page}\n        />\n        {this.state.showModal && (\n          <Modal\n            modalSrc={this.state.modalSrc}\n            showLoader={this.state.showModal}\n            onModal={this.onModal}\n          />\n        )}\n\n\n\n      </div >\n    )\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}